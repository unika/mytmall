<link rel="stylesheet" href="~js/tree/zTreeStyle/zTreeStyle.css" type="text/css">
<script type="text/javascript" src="~js/tree/jquery.ztree.core-3.0.js"></script>
<script type="text/javascript" src="~js/tree/jquery.ztree.excheck-3.0.js"></script>
<script type="text/javascript" src="~js/tree/jquery.ztree.exedit-3.0.js"></script>
<style>
    ul.ztree
    {
        margin-top: 10px;
        border: 1px solid #617775;
        background: #f0f6e4;
        width: 500px;
        height: 250px;
        overflow-y: scroll;
        overflow-x: auto;
    }
</style>
<script>
<!--
		var setting = {
			view: {
				dblClickExpand: false
			},
			data: {
				simpleData: {
					enable: true
				}
			},
			callback: {

				onClick: onClick
			}
		};
 
		var zNodes =#{nodes};
 		
		function onClick(e, treeId, treeNode) {
			var zTree = $.fn.zTree.getZTreeObj("typeTree");
			nodes = zTree.getSelectedNodes();

			$("#typeSel").attr("value", nodes[0].name);
            $("input[name='typeId']").attr("value", nodes[0].id);

            hideMenu();
		}
 
		function showMenu() {

			var typeSelObj = $("#typeSel");
			var typeOffset = typeSelObj.offset();
			$("#menuContent").css({left:typeOffset.left + "px", top:typeOffset.top + typeSelObj.outerHeight() + "px"}).slideDown("fast");
 
			$("body").bind("mousedown", onBodyDown);
		}
		function hideMenu() {
			$("#menuContent").fadeOut("fast");
			$("body").unbind("mousedown", onBodyDown);
		}
		function onBodyDown(event) {
			if (!(event.target.id == "menuBtn" 
            || event.target.id == "menuContent" 
            || $(event.target).parents("#menuContent").length>0)) {
				hideMenu();
			}
		}
 
		$(document).ready(function(){
			$.fn.zTree.init($("#typeTree"), setting, zNodes);

		});


		//--> 
</script>
<div>
    <div class="adminMainTitle">
        <div class="adminSidebarTitleInternal">
            What Do Our Customers Said</div>
    </div>
    <div class="adminMainPanel">
        <table cellspacing="1" cellpadding="3" style="width: 100%;" id="dataAdminList">
            <tr class="adminBar">
                <td colspan="3" style="">
                    <form method="post" action="#{ActionLink}">
                    数量：<input id="Text1" name="num" type="text"  style=" white-space:50px"/>
                        <span class="valid" mode="border"></span>
                    类型：<input id="typeSel"  type="text" style="width: 200px;"
                            onclick="showMenu();" readonly />
                            <span class="valid" mode="border"></span>
                        <input name="typeId" type="hidden" value="" />
                        <div id="menuContent" class="menuContent" style="display: none; position: absolute;">
                            <ul id="typeTree" class="ztree" style="margin-top: 0; width: 250px;">
                            </ul>
                        </div>
                    <input id="Submit1" type="submit" value="从中心随机获取" />
                    </form>
                    
                </td>
                <td>
                <a href="#{Add}">新增</a>
                </td>
            </tr>
            <tr class="tableHeader">
                <td>
                    编号
                </td>
                <td>
                    内容
                </td>
                <td>
                    客户
                </td>
                <td>
                    操作
                </td>
            </tr>
            <!-- BEGIN saids -->
            <tr class="tableItems">
                <td>
                    #{said.Id}
                </td>
                <td>
                    #{said.Cont}
                </td>
                <td>
                    #{said.CustName}
                </td>

                <td>
                    <a href="#{said.Edit}">编辑</a>｜<a href="#{said.Delete}" class="deleteCmd">删除</a>
                </td>
            </tr>
            <!-- END saids -->
        </table>

    </div>
</div>
